<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>USRP Connectivity | Jiawei Li</title><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="USRP Connectivity" /><meta property="og:locale" content="en_US" /><meta name="description" content="Jiawei’s Personal Website" /><meta property="og:description" content="Jiawei’s Personal Website" /><link rel="canonical" href="http://localhost:4000/docs/usrp/USRP_Connection/" /><meta property="og:url" content="http://localhost:4000/docs/usrp/USRP_Connection/" /><meta property="og:site_name" content="Jiawei Li" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="USRP Connectivity" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Jiawei’s Personal Website","headline":"USRP Connectivity","url":"http://localhost:4000/docs/usrp/USRP_Connection/"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Jiawei Li </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/usrp" class="nav-list-link">USRP</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/docs/usrp/gnuradio_uhd_linux_toolchain/" class="nav-list-link">GNURadio UHD Linux Toolchain</a><li class="nav-list-item active"><a href="http://localhost:4000/docs/usrp/USRP_Connection/" class="nav-list-link active">USRP Connectivity</a><li class="nav-list-item "><a href="http://localhost:4000/docs/usrp/matlab/" class="nav-list-link">Matlab Import Raw IQ Data</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/docs/rfid" class="nav-list-link">RFID</a><ul class="nav-list "></ul></ul></nav></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Jiawei Li" aria-label="Search Jiawei Li" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div></div><div id="main-content-wrap" class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/docs/usrp">USRP</a><li class="breadcrumb-nav-list-item"><span>USRP Connectivity</span></ol></nav><div id="main-content" class="main-content" role="main"><h1 id="usrp-x310-connectivity"> <a href="#usrp-x310-connectivity" class="anchor-heading" aria-labelledby="usrp-x310-connectivity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> USRP X310 Connectivity</h1><hr /><h2 id="connect-to-host-via-gigabit-ethernet"> <a href="#connect-to-host-via-gigabit-ethernet" class="anchor-heading" aria-labelledby="connect-to-host-via-gigabit-ethernet"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connect to host via Gigabit Ethernet</h2><p>It is recommended to connect the USRP X310 directly with the host via Gigabit Ethernet interface.</p><p><strong>STEP 1</strong>: Connect ethernet cable to the port 0 on X310. 1 Gigabit to SFP+ adapter and &gt;Cat5E cable are required.</p><p><img src="../eth_1g.jpeg" alt="" /></p><p><strong>STEP 2</strong>: Configure the network of host.</p><ul><li>Check the connection X310 is using in Ubuntu network manager. Here, I use an USB Ethernet card, which is wired connection 4.</ul><p><img src="../network_connections.png" alt="" /></p><ul><li>Go to the connection setup, IPV4 settings. Configure the host as following.</ul><p><img src="../connection_setup.png" alt="" /></p><p><strong>STEP 3</strong>: Disable networking, then enable networking.</p><p><strong>STEP 4</strong>: Check device connectivity using <code class="language-plaintext highlighter-rouge">uhd_find_devices</code>.</p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jiawei@evga:~<span class="nv">$ </span>uhd_find_devices
<span class="o">[</span>INFO] <span class="o">[</span>UHD] linux<span class="p">;</span> GNU C++ version 5.4.0 20160609<span class="p">;</span> Boost_105800<span class="p">;</span> UHD_3.14.0.HEAD-0-g6875d061
<span class="nt">--------------------------------------------------</span>
<span class="nt">--</span> UHD Device 0
<span class="nt">--------------------------------------------------</span>
Device Address:
    serial: 31792BA
    addr: 192.168.10.2
    fpga: HG
    name:
    product: X310
    <span class="nb">type</span>: x300
</code></pre></div></div><p>Run <code class="language-plaintext highlighter-rouge">uhd_usrp_probe --args addr=192.168.10.2</code> to make sure all components are correctly detected and usable.</p><hr /><h2 id="ten-gigabit"> <a href="#ten-gigabit" class="anchor-heading" aria-labelledby="ten-gigabit"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Ten Gigabit</h2><p><strong>STEP 1</strong>: Connect the SFP+ cable to <code class="language-plaintext highlighter-rouge">port 1</code>.</p><p><strong>Step 2</strong>: Same as Gigabit Ethernet one. Except the host IP should be <code class="language-plaintext highlighter-rouge">192.168.40.1</code></p><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>jiawei@evga:~<span class="nv">$ </span>uhd_find_devices
<span class="o">[</span>INFO] <span class="o">[</span>UHD] linux<span class="p">;</span> GNU C++ version 5.4.0 20160609<span class="p">;</span> Boost_105800<span class="p">;</span> UHD_3.14.0.HEAD-0-g6875d061
<span class="nt">--------------------------------------------------</span>
<span class="nt">--</span> UHD Device 0
<span class="nt">--------------------------------------------------</span>
Device Address:
    serial: 31792BA
    addr: 192.168.40.2
    fpga: HG
    name:
    product: X310
    <span class="nb">type</span>: x300
</code></pre></div></div><hr /><h2 id="change-the-usrps-ip-address"> <a href="#change-the-usrps-ip-address" class="anchor-heading" aria-labelledby="change-the-usrps-ip-address"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Change the USRP’s IP address</h2><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">cd</span> /usr/local/lib/uhd/utils
./usrp_burn_mb_eeprom <span class="nt">--args</span><span class="o">=</span><span class="s2">"addr=192.168.40.2,type=x300"</span> <span class="nt">--read-all</span>
./usrp_burn_mb_eeprom <span class="nt">--args</span><span class="o">=</span><span class="s2">"addr=192.168.40.2,type=x300"</span> <span class="nt">--values</span><span class="o">=</span><span class="s2">"ip-addr0=192.168.10.3"</span>
</code></pre></div></div><p>In my case, the install path is <code class="language-plaintext highlighter-rouge">/usr/local/lib/uhd/utils</code></p><h2 id="default-x310-network-parameters"> <a href="#default-x310-network-parameters" class="anchor-heading" aria-labelledby="default-x310-network-parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Default X310 Network Parameters</h2><div class="table-wrapper"><table><thead><tr><th>Ethernet Interface<th>USRP Ethernet Port<th>Default USRP IP Address<th>Host Static IP Address<th>Host Static Subnet Mask<th>Address EEPROM key<th>Connection Type<tbody><tr><td>Gigabit<td>Port 0 (HG Image)<td>192.168.10.2<td>192.168.10.1<td>255.255.255.0<td>ip-addr0<td>Single<tr><td>Ten Gigabit<td>Port 0 (XG Image)<td>192.168.30.2<td>192.168.30.1<td>255.255.255.0<td>ip-addr2<td>Twin<tr><td>Ten Gigabit<td>Port 1 (HG/XG Image)<td>192.168.40.2<td>192.168.40.1<td>255.255.255.0<td>ip-addr3<td>Single</table></div><hr /><div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">sudo </span>ifconfig enp3s0f0 mtu 9000
<span class="nb">sudo </span>ifconfig enp3s0f1 mtu 9000
<span class="nb">sudo </span>sysctl <span class="nt">-w</span> net.core.rmem_max<span class="o">=</span>24862979
<span class="nb">sudo </span>sysctl <span class="nt">-w</span> net.core.wmem_max<span class="o">=</span>24862979
<span class="k">for</span> <span class="o">((</span><span class="nv">i</span><span class="o">=</span>0<span class="p">;</span>i&lt;<span class="si">$(</span><span class="nb">nproc</span><span class="si">)</span><span class="p">;</span>i++<span class="o">))</span><span class="p">;</span> <span class="k">do </span><span class="nb">sudo </span>cpufreq-set <span class="nt">-c</span> <span class="nv">$i</span> <span class="nt">-r</span> <span class="nt">-g</span> performance<span class="p">;</span> <span class="k">done
</span>cpufreq-info
</code></pre></div></div><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2022 Jiawei Li</p></footer></div></div><div class="search-overlay"></div></div>
